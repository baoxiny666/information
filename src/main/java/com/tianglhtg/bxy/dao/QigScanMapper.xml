<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    <mapper namespace="com.tianglhtg.bxy.dao.QigScanDao">
        <select id="selectFuSelect" resultType="com.tianglhtg.bxy.entity.DepartMent">
             select
                id,
                depart_name departName,
                depart_pid departPid
             from sys_department
             where depart_pid = 0
        </select>

        <select id="selectSonSelect" parameterType="java.lang.String" resultType="com.tianglhtg.bxy.entity.DepartMent">
            select
                id,
                depart_name departName,
                depart_pid departPid
             from sys_department
             where depart_pid = #{fuNumber}
        </select>
        
         <insert id="insertData" parameterType="com.tianglhtg.bxy.entity.InsertAdvise" >
            insert into qig_advise (depart_ment,depart_ment_son,rules_name,flow_name,advise_yij,submit_person,tele_phone,create_time,depart_ment_fu_name,depart_ment_son_name,advise_status) 
            values (#{depart_ment},
            		#{depart_ment_son},
            		#{rules_name},
            		#{flow_name},
            		#{advise_yij},
            		#{submit_person},
            		#{tele_phone},
            		STR_TO_DATE(#{create_time},'%Y-%m-%d %H:%i:%s')
            		,#{depart_ment_fu_name},
            		#{depart_ment_son_name},
            		'未查看')
        </insert>
        
    </mapper>
